<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Tristan Louth-Robins" />


<title>Project Support Centre Monthly Reporting</title>

<script src="PSC_report_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="PSC_report_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="PSC_report_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="PSC_report_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="PSC_report_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="PSC_report_files/navigation-1.1/tabsets.js"></script>
<script src="PSC_report_files/kePrint-0.0.1/kePrint.js"></script>




<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




<link rel="stylesheet" href="resources/css/theme.css">

</head>

<body>

<nav class="navbar navbar-default navbar-fixed-top" id="menu">
  <div class="container-fluid">
    <div class="navbar-header">
      <p class="navbar-text">PSC Reporting</p>
      <p class="navbar-text" id="author">Tristan Louth-Robins</p>
    </div>
  </div>
</nav>

<div class="container-fluid" id="header-container">
  <div class="container-fluid main-container">
    <h1 class="title toc-ignore">Project Support Centre Monthly Reporting</h1>

        <h2 class="subtitle">Streamlining report creation using an R workflow</h2>
    
    <h3 class="author">Tristan Louth-Robins</h3>
    <h4 class="affiliation">CSIRO Finance</h4>
  </div>
</div>


<div class="container-fluid main-container">
<div id="new_intro" class="introduction">
  <img class='photo' src="resources/img/TLR.jpeg">
</div>



<div class="fluid-row" id="header">



</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>I joined CSIRO in 2009 and worked in the Contract Administration Centre until 2014. Since then, I’ve covered a variety of roles supporting Project Support, In-Business Finance, the Research Office and currently the Project Support Centre (Corporate Finance.) Prior to commencing Data School, I could code competently in HTML and a little C, but its applications were largely restricted to extra-curricular activities away from CSIRO. Learning R and aspects of Data Management appealed to me as an attractive and valuable skill that could be applied in practice for the purposes of reporting, file management systems and general compliance activities.</p>
</div>
<div id="my-project" class="section level1">
<h1>My Project</h1>
<div id="from-manual-input-to-r-workflow" class="section level4">
<h4>From manual input to R workflow</h4>
<p>This project could be best regarded as an attempt to replicate a process that is currently handled manually and consists of two primary components: 1) importing raw data, wrangling, tidying and transforming; 2) visualising and communicating. In this respect, R seemed like a perfect fit for the task at hand.</p>
</div>
<div id="the-psc-monthly-report" class="section level4">
<h4>The PSC Monthly report</h4>
<p>This process consists of preparing a dataset for the Project Support Centre (PSC) monthly report. The monthly summary reports on the status of open and completed tasks, which have been recorded across JIRA and O2D. This summary ultimately informs part of the larger Finance Support Centre reporting at month’s end.</p>
</div>
<div id="issues-with-the-manual-process" class="section level4">
<h4>Issues with the manual process</h4>
<p>One of the present issues with preparation of the PSC report is that it is a manual process and is therefore both time-consuming and potentially prone to data duplication and human error. I had to take this existing process and realise it through the application of R, taking JIRA and O2D data and transforming it efficiently, resulting in an end-goal of an accurate data summary for reporting on.</p>
</div>
<div id="the-r-workflow-replicating-a-manual-process-in-excel" class="section level4">
<h4>The R workflow: replicating a manual process in Excel</h4>
<p>In order to take this manual process and realise it as an R workflow, I would need to take the manual work steps currently performed across Excel (multiple spreadsheets, copying/pasting, filtering, pivot tables, cell references, etc) and replicate this in R code, employing a number of functions and successive dataframes to ensure the data was consilidated and going to the right place at the right time.</p>
</div>
<div id="wrangling-tidying-transforming" class="section level4">
<h4>Wrangling, tidying, transforming</h4>
<p>The goal of the main R workflow was to wrangle large chunks of data - extracted from JIRA and O2D - and transform this into concise summaries of open and completed JIRA and O2D tasks for a given month. From here, the summaries are brought together, comprising of current and previous monthly data for an up-to-date summary of the Financial Year-To-Date.</p>
<p><strong>For the purposes of the PSC report, only the open statuses needed to be reported upon.</strong></p>
</div>
<div id="preliminary-results" class="section level2">
<h2>Preliminary results</h2>
<div id="visualisation-of-data" class="section level4">
<h4>Visualisation of data</h4>
<p>The following table and plot are the key components of the PSC Monthly Report, and form the basis of its presentation.</p>
<p>To present this data in Markdown, I have utilised internal R Markdown code to read in the data summary generated from my R workflows, assign new variables and used these datatables for table and plots detailing PSC tasks across the 2019-20 FY.</p>
<table class="table table-striped" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-1">Table 1: </span>
</caption>
<thead>
<tr>
<th style="text-align:left;">
2019-20 FY
</th>
<th style="text-align:right;">
Jul
</th>
<th style="text-align:right;">
Aug
</th>
<th style="text-align:right;">
Sep
</th>
<th style="text-align:right;">
Oct
</th>
<th style="text-align:right;">
Nov
</th>
<th style="text-align:right;">
Dec
</th>
<th style="text-align:right;">
Jan
</th>
<th style="text-align:right;">
Feb
</th>
<th style="text-align:right;">
Mar
</th>
<th style="text-align:right;">
Apr
</th>
<th style="text-align:right;">
May
</th>
<th style="text-align:right;">
Jun
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Billing &amp; Progress MS; Revenue Recognition
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
137
</td>
<td style="text-align:right;">
156
</td>
<td style="text-align:right;">
124
</td>
<td style="text-align:right;">
163
</td>
<td style="text-align:right;">
144
</td>
<td style="text-align:right;">
140
</td>
<td style="text-align:right;">
108
</td>
<td style="text-align:right;">
195
</td>
<td style="text-align:right;">
256
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Close Project/Stage
</td>
<td style="text-align:right;">
589
</td>
<td style="text-align:right;">
247
</td>
<td style="text-align:right;">
197
</td>
<td style="text-align:right;">
179
</td>
<td style="text-align:right;">
184
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
135
</td>
<td style="text-align:right;">
130
</td>
<td style="text-align:right;">
141
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
New Project Created
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Other Tasks
</td>
<td style="text-align:right;">
175
</td>
<td style="text-align:right;">
120
</td>
<td style="text-align:right;">
119
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
79
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
82
</td>
<td style="text-align:right;">
71
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
115
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Planning Tool Changes
</td>
<td style="text-align:right;">
52
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
53
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
52
</td>
<td style="text-align:right;">
70
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Project Date Changes
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
17
</td>
<td style="text-align:right;">
16
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
Project Leader Authorisation
</td>
<td style="text-align:right;">
292
</td>
<td style="text-align:right;">
276
</td>
<td style="text-align:right;">
251
</td>
<td style="text-align:right;">
229
</td>
<td style="text-align:right;">
250
</td>
<td style="text-align:right;">
224
</td>
<td style="text-align:right;">
271
</td>
<td style="text-align:right;">
190
</td>
<td style="text-align:right;">
273
</td>
<td style="text-align:right;">
412
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>
</table>
<div class="figure" style="text-align: left"><span id="fig:standard-plot"></span>
<img src="PSC_report_files/figure-html/standard-plot-1.png" alt="Table summary of open PSC tasks for 2019-20 FY (up to April 2020)" width="80%" />
<p class="caption">
Figure 1: Table summary of open PSC tasks for 2019-20 FY (up to April 2020)
</p>
</div>
</div>
<div id="animation-of-plots" class="section level4">
<h4>Animation of plots</h4>
<p>Although I don’t imagine animation forming the basis of any reporting in the immediate future, I thought it would be good to include here. If only as a demonstration of its potential to provide enhanced insight into summarised data.</p>
<p>The following is an animation of the above chart. I think the animated aspect lends greater insight into task volume over the course of the year and is indicative of particular trends, especially prior to and following the EOFY period.</p>
<p>The animation incorporates <code>transition_time()</code> and <code>shadow_mark()</code> functions, whilst an <code>ease_aes()</code> function smooths the transitions. The timing of the animation is controlled further by rendering the animation using the <code>animate()</code> function.</p>
<div class="figure">
<img src="resources/img/PSC_open.gif" width="800" />

</div>
<p>Although this next animation is less useful for the purposes of reporting, I thought it would be interesting to examine both open and completed task statuses transitioned over each month, utilising a <code>facetwrap()</code> function to position each task status side-by-side for comparison.</p>
<p>A potential improvement to the animated plot could be to fix the date stamp and replace this with the name of the month following each monthly transition.</p>
<div class="figure">
<img src="resources/img/PSC_combined.gif" width="500" />

</div>
</div>
</div>
</div>
<div id="my-digital-toolbox" class="section level1">
<h1>My Digital Toolbox</h1>
<p>The <code>tidyverse</code> and <code>ggplot</code> libraries have been the primary tools I’ve used for the project.</p>
<p>At this stage, I feel like I’ve got a workable ‘readymade’ of how I imagine the finished project will perform. However, features such as interactivity (i.e. <code>shiny</code>) are very tempting to explore further and could be of great benefit to end-users in the future.</p>
<p>As this project is revisited in the coming weeks and months, it will be interesting to see what other tools might be applied to best realise the goals and ultimate outcome of the workflow project.</p>
</div>
<div id="my-time-went" class="section level1">
<h1>My time went …</h1>
<p>The most labour-intensive aspect of this project involved analysing the current (manual) report process and transposing this into an R workflow.</p>
<p>Because so much of the manual process involved hands-on copying/pasting, substituting of fields, filtering, creating pivot table summaries and so forth, the major challenge was identifying practical approaches in R and drawing from the experience I’d gained to date.</p>
<p>At times, this process was incredibly frustrating, though I found that most of the issues could be overcome by taking a step back and thinking about a particular part of the process in the simplest possible way. Asking lots of questions helped as well! When worst came to worst, I’d simply get a large sheet of paper out and draw out the process for the upteenth time. Once I was immersed back in the code, tried and true functions such as <code>filter()</code>, <code>split()</code>, <code>select()</code>, <code>mutate()</code>, <code>rename()</code>, <code>group_by()</code> and <code>summarise()</code> were indispensable.</p>
</div>
<div id="next-steps" class="section level1">
<h1>Next steps</h1>
<p>Although I managed to get the project up to the point where the workflow process executed near-perfectly (and accurately!), I would have really liked to reduce the volume of code in my script and find more efficient ways of performing certain functions. Duplication was an ongoing concern, and particular care needed to be taken to avoid errors.</p>
<p>Looking ahead, I would like to spend more time creating my own functions to avoid duplicated code as well as exploring regular expressions, strings and iteration in greater detail. Above all, spending more time with the general theory of R is a key motivator; insofar, that I recently purchased the <strong>R For Data Science book</strong> for my iPad!</p>
<p>Beyond R itself, becoming accustomed with other principles of Data Science and Data Management during this course has been enormously beneficial and I imagine that this will have valuable applications for myself and the rest of my Team in Finance going forward.</p>
</div>
<div id="my-data-school-experience" class="section level1">
<h1>My Data School Experience</h1>
<p>My time with Data School has been an interesting and hugely rewarding experience. At the start of the course I was quite unsure of how my project might fit into the world of Data Science; and being amongst scientists and researchers certainly made me feel a little out of my depth (and out of place) from time to time. Nevertheless, as I gained more exposure to the fundamentals of R, Data Science and the general philosophy of Data School I felt much more at home and this eventually assured my project was on the right track and in good company.</p>
<p>Looking ahead, I’m keen to share my experience with my immediate Team and the wider CSIRO Finance community. Data School is a great platform for not only gaining and applying skills in R and Data Management, but being also part of a diverse, supportive and vibrant community.</p>
</div>
<div id="thank-you" class="section level1">
<h1>Thank you:</h1>
<p>I would like to take this opportunity to extend my huge thanks to our amazing instructors, Stephen and Kerensa, whose knowlege, suggestions and patience have been an invaluable resource to draw from over the past ten weeks.</p>
<p>Thanks to our gracious and accomodating facilitator, Kristian; the vast community of Data School Helpers, as well as my Finance-based helper, Dan Nguyen.</p>
<p>Thanks also to my managers, Creswell and Dikesh for allowing me the flexibility to undertake this course. Lastly, my thanks must also go out to my immediate Team members, Lisa and Maree in Project Support for providing vital cover whilst I’ve up to my neck in code and managing a swelling head.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->



<script type="text/javascript" src="resources/js/theme.js"></script>
<script type="text/javascript" src="resources/js/move_sections.js"></script>

</body>
</html>
